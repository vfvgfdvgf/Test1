{% load static %}
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    {% if site_settings.favicon %}
    <link rel="icon" type="image/png" href="{{ site_settings.favicon.url }}">
    {% elif site_settings.favicon_url %}
    <link rel="icon" type="image/png" href="{{ site_settings.favicon_url }}">
    {% else %}
    <link rel="icon" type="image/png" href="/static/default/favicon.png">
    {% endif %}

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>سياسة ملفات تعريف الارتباط (الكوكيز) | الثَّقَف العربي</title>
    <meta name="description" content="تعرف على سياسة استخدام ملفات تعريف الارتباط (الكوكيز) في منصة الثقافة العربية وكيف نحمي خصوصيتك">
    
    <!-- Open Graph -->
    <meta property="og:title" content="سياسة ملفات تعريف الارتباط (الكوكيز) | الثَّقَف العربي">
    <meta property="og:description" content="تعرف على سياسة استخدام ملفات تعريف الارتباط في منصة الثقافة العربية">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="سياسة ملفات تعريف الارتباط (الكوكيز) | الثَّقَف العربي">
    <meta name="twitter:description" content="تعرف على سياسة استخدام ملفات تعريف الارتباط في منصة الثقافة العربية">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "سياسة ملفات تعريف الارتباط",
        "description": "صفحة سياسة استخدام ملفات تعريف الارتباط في منصة الثقافة العربية",
        "url": "{{ request.build_absolute_uri }}",
        "publisher": {
            "@type": "Organization",
            "name": "الثَّقَف العربي",
            "logo": {
                "@type": "ImageObject",
                "url": "https://thaqaf-arabi.site/static/images/logo.png"
            }
        }
    }
    </script>

    <!-- تحميل الخطوط والأيقونات -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&family=Amiri:wght@400;700&family=Almarai:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/cookies.css' %}">

 
</head>

<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Skip to Main Content -->
    <a href="#main-content" class="skip-link">انتقل إلى المحتوى الرئيسي</a>

    <!-- الهيدر -->
    <header class="header" id="header">
        <div class="container">
            <h1 class="logo">
                <a href="/"><i class="fas fa-feather-alt"></i> الثَّقَف العربي</a>
            </h1>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="فتح القائمة">
                <i class="fas fa-bars"></i>
            </button>
            
            <nav class="nav" id="nav" aria-label="القائمة الرئيسية">
                <a href="/">الرئيسية</a>
                <a href="/articles/">المقالات</a>
                <a href="/categories/">الأقسام</a>
                <a href="/gallery/">المعرض</a>
                <a href="/about/">من نحن</a>
                <a href="/contact/">اتصل بنا</a>
            </nav>
        </div>
    </header>

    <!-- محتوى صفحة سياسة الكوكيز -->
    <main class="cookies-page" id="main-content">
        <div class="container">
            <!-- رأس الصفحة -->
            <div class="cookies-header">
                <h1 class="cookies-title">سياسة ملفات تعريف الارتباط</h1>
                <p class="cookies-subtitle">
                    نؤمن بشفافية حماية البيانات. تعرف على كيفية استخدامنا لملفات تعريف الارتباط 
                    وكيف يمكنك التحكم في تفضيلاتك.
                </p>
            </div>

            <!-- المحتوى الرئيسي -->
            <div class="cookies-content">
                <!-- ما هي ملفات تعريف الارتباط -->
                <section class="cookies-card">
                    <h2 class="section-title">
                        <i class="fas fa-info-circle"></i>
                        ما هي ملفات تعريف الارتباط؟
                    </h2>
                    <div class="content-text">
                        ملفات تعريف الارتباط (الكوكيز) هي ملفات نصية صغيرة يتم تخزينها على جهازك 
                        عندما تزور موقعنا الإلكتروني. تساعدنا هذه الملفات في تذكر تفضيلاتك وتحسين 
                        تجربتك على الموقع.
                    </div>
                    <div class="content-text">
                        نستخدم ملفات تعريف الارتباط لجعل موقعنا يعمل بشكل صحيح، ولتحسين تجربة 
                        المستخدم، ولتحليل كيفية استخدام الزوار لموقعنا.
                    </div>
                </section>

                <!-- أنواع ملفات تعريف الارتباط -->
                <section class="cookies-card">
                    <h2 class="section-title">
                        <i class="fas fa-cookie-bite"></i>
                        أنواع ملفات تعريف الارتباط التي نستخدمها
                    </h2>
                    
                    <table class="cookies-table">
                        <thead>
                            <tr>
                                <th>النوع</th>
                                <th>الغرض</th>
                                <th>المدة</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <span class="cookie-type">
                                        <i class="fas fa-cog"></i>
                                        أساسية
                                    </span>
                                </td>
                                <td>ضرورية لتشغيل الموقع بشكل صحيح</td>
                                <td>جلسة التصفح</td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="cookie-type">
                                        <i class="fas fa-chart-line"></i>
                                        تحليلية
                                    </span>
                                </td>
                                <td>فهم كيفية استخدام الزوار للموقع</td>
                                <td>سنتان</td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="cookie-type">
                                        <i class="fas fa-user-cog"></i>
                                        تفضيلات
                                    </span>
                                </td>
                                <td>تذكر إعداداتك واختياراتك</td>
                                <td>سنة واحدة</td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="cookie-type">
                                        <i class="fas fa-ad"></i>
                                        إعلانية
                                    </span>
                                </td>
                                <td>عرض إعلانات مخصصة وقياس فعاليتها</td>
                                <td>90 يومًا</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

             
                <!-- الأسئلة الشائعة -->
                <section class="faq-section">
                    <h2 class="section-title" style="text-align: center; margin-bottom: 50px;">
                        <i class="fas fa-question-circle"></i>
                        الأسئلة الشائعة
                    </h2>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            كيف يمكنني إدارة ملفات تعريف الارتباط في متصفي؟
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            يمكنك إدارة ملفات تعريف الارتباط من خلال إعدادات المتصفح. في معظم المتصفحات، 
                            يمكنك العثور على هذه الإعدادات تحت قسم "الخصوصية" أو "الأمان". يمكنك حذف 
                            ملفات تعريف الارتباط الموجودة أو منع تخزين ملفات جديدة.
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            هل تشاركون ملفات تعريف الارتباط مع أطراف ثالثة؟
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            نشارك بيانات مجمعة وغير شخصية مع شركائنا لتحليل الأداء وتحسين الخدمات. 
                            لا نبيع أو نشارك بياناتك الشخصية مع أطراف ثالثة لأغراض تسويقية بدون موافقتك.
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            ما هي مدة بقاء ملفات تعريف الارتباط على جهازي؟
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            تختلف مدة بقاء ملفات تعريف الارتباط حسب نوعها. بعضها يبقى فقط خلال جلسة 
                            التصفح الحالية، بينما قد يبقى البعض الآخر لمدة تصل إلى سنتين. يمكنك الاطلاع 
                            على الجدول أعلاه للحصول على تفاصيل عن مدة كل نوع.
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            ماذا يحدث إذا قمت بتعطيل جميع ملفات تعريف الارتباط؟
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            إذا قمت بتعطيل جميع ملفات تعريف الارتباط، فقد لا يعمل الموقع بشكل صحيح. 
                            بعض الميزات مثل حفظ التفضيلات وتسجيل الدخول قد تتوقف عن العمل. نوصي 
                            بالاحتفاظ بملفات تعريف الارتباط الأساسية مفعلة.
                        </div>
                    </div>
                </section>

             
            </div>
        </div>
    </main>

    <!-- الفوتر -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h5>الثقَف العربي</h5>
                    <p>منصة ثقافية عربية تهدف إلى إثراء المحتوى الثقافي والمعرفي العربي من خلال مقالات وبحوث ومواد متنوعة.</p>
                    <div class="social-links">
                        <a href="#" aria-label="فيسبوك"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="تويتر"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="إنستغرام"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="يوتيوب"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                
                <div class="footer-col">
                    <h5>روابط سريعة</h5>
                    <ul class="footer-links">
                        <li><a href="/"><i class="fas fa-arrow-left"></i> الرئيسية</a></li>
                        <li><a href="/articles/"><i class="fas fa-arrow-left"></i> المقالات</a></li>
                        <li><a href="/categories/"><i class="fas fa-arrow-left"></i> الأقسام</a></li>
                        <li><a href="/gallery/"><i class="fas fa-arrow-left"></i> المعرض</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h5>المعلومات القانونية</h5>
                    <ul class="footer-links">
                        <li><a href="/privacy/"><i class="fas fa-arrow-left"></i> سياسة الخصوصية</a></li>
                        <li><a href="/cookies/"><i class="fas fa-arrow-left"></i> سياسة الكوكيز</a></li>
                        <li><a href="/terms/"><i class="fas fa-arrow-left"></i> شروط الاستخدام</a></li>
                        <li><a href="/disclaimer/"><i class="fas fa-arrow-left"></i> إخلاء المسؤولية</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>© 2025 الثَّقَف العربي – جميع الحقوق محفوظة</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // إخفاء شاشة التحميل
        setTimeout(() => {
            document.getElementById('loadingOverlay').classList.add('hidden');
        }, 1000);

        // Header scroll effect
        window.addEventListener('scroll', function() {
            const header = document.getElementById('header');
            if (window.scrollY > 100) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const nav = document.getElementById('nav');
        
        mobileMenuBtn.addEventListener('click', function() {
            nav.classList.toggle('active');
            mobileMenuBtn.innerHTML = nav.classList.contains('active') ? 
                '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
            mobileMenuBtn.setAttribute('aria-label', 
                nav.classList.contains('active') ? 'إغلاق القائمة' : 'فتح القائمة');
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            if (!nav.contains(event.target) && !mobileMenuBtn.contains(event.target) && nav.classList.contains('active')) {
                nav.classList.remove('active');
                mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                mobileMenuBtn.setAttribute('aria-label', 'فتح القائمة');
            }
        });

        // FAQ Accordion
        const faqItems = document.querySelectorAll('.faq-item');
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            question.addEventListener('click', () => {
                item.classList.toggle('active');
            });
        });

        // Cookie Settings Toggle
        const settingOptions = document.querySelectorAll('.setting-option');
        settingOptions.forEach(option => {
            if (option.dataset.type === 'essential') {
                const toggle = option.querySelector('.toggle-switch');
                if (toggle) {
                    toggle.style.cursor = 'not-allowed';
                    toggle.style.opacity = '0.6';
                }
            }
            
            option.addEventListener('click', function() {
                if (this.dataset.type !== 'essential') {
                    this.classList.toggle('active');
                }
            });
        });

        // Save Settings
        document.getElementById('saveSettings').addEventListener('click', function() {
            const settings = {};
            settingOptions.forEach(option => {
                settings[option.dataset.type] = option.classList.contains('active');
            });
            
            // Simulate saving settings
            this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> جاري الحفظ...';
            this.disabled = true;
            
            setTimeout(() => {
                this.innerHTML = '<i class="fas fa-check"></i> تم الحفظ!';
                setTimeout(() => {
                    this.innerHTML = '<i class="fas fa-save"></i> حفظ التفضيلات';
                    this.disabled = false;
                }, 1500);
                
                // Show success message
                showNotification('تم حفظ تفضيلات ملفات تعريف الارتباط بنجاح!', 'success');
            }, 1000);
        });

        // Accept All
        document.getElementById('acceptAll').addEventListener('click', function() {
            settingOptions.forEach(option => {
                option.classList.add('active');
            });
            showNotification('تم قبول جميع ملفات تعريف الارتباط', 'success');
        });

        // Reject All
        document.getElementById('rejectAll').addEventListener('click', function() {
            settingOptions.forEach(option => {
                if (option.dataset.type !== 'essential') {
                    option.classList.remove('active');
                }
            });
            showNotification('تم رفض ملفات تعريف الارتباط غير الأساسية', 'info');
        });

        // Notification Function
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <div class="notification-content">
                    <i class="fas fa-${type === 'success' ? 'check' : 'info'}-circle"></i>
                    <span>${message}</span>
                </div>
            `;
            
            // Add styles for notification
            const styles = `
                .notification {
                    position: fixed;
                    top: 120px;
                    right: 30px;
                    background: var(--gradient-glass);
                    backdrop-filter: blur(20px);
                    padding: 25px;
                    border-radius: var(--apple-radius);
                    box-shadow: 0 15px 35px rgba(0,0,0,0.15);
                    border: 1px solid rgba(255, 255, 255, 0.4);
                    z-index: 10000;
                    animation: slideInRight 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                    max-width: 400px;
                    border-left: 4px solid var(--accent);
                }
                .notification-success {
                    border-left-color: #10B981;
                }
                .notification-info {
                    border-left-color: #3B82F6;
                }
                .notification-content {
                    display: flex;
                    align-items: center;
                    gap: 15px;
                    color: var(--primary-text);
                    font-weight: 500;
                }
                .notification-content i {
                    font-size: 1.4rem;
                }
                .notification-success .notification-content i {
                    color: #10B981;
                }
                .notification-info .notification-content i {
                    color: #3B82F6;
                }
                @keyframes slideInRight {
                    from {
                        transform: translateX(100%);
                        opacity: 0;
                    }
                    to {
                        transform: translateX(0);
                        opacity: 1;
                    }
                }
            `;
            
            const styleSheet = document.createElement('style');
            styleSheet.textContent = styles;
            document.head.appendChild(styleSheet);
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideInRight 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) reverse';
                setTimeout(() => {
                    notification.remove();
                }, 400);
            }, 4000);
        }

        // Scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe elements for animation
        document.querySelectorAll('.cookies-card, .cookie-settings, .faq-item').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(30px)';
            el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(el);
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 120,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Load saved preferences
        function loadSavedPreferences() {
            const savedSettings = localStorage.getItem('cookiePreferences');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                settingOptions.forEach(option => {
                    if (settings[option.dataset.type] !== undefined) {
                        if (settings[option.dataset.type]) {
                            option.classList.add('active');
                        } else {
                            option.classList.remove('active');
                        }
                    }
                });
            }
        }

        // Save preferences to localStorage
        function savePreferences() {
            const settings = {};
            settingOptions.forEach(option => {
                settings[option.dataset.type] = option.classList.contains('active');
            });
            localStorage.setItem('cookiePreferences', JSON.stringify(settings));
        }

        // Initialize
        loadSavedPreferences();

        // Update save function to use localStorage
        const originalSave = document.getElementById('saveSettings').onclick;
        document.getElementById('saveSettings').onclick = function() {
            savePreferences();
            if (originalSave) originalSave.call(this);
        };

        // Add ripple effect to buttons
        function createRipple(event) {
            const button = event.currentTarget;
            const circle = document.createElement("span");
            const diameter = Math.max(button.clientWidth, button.clientHeight);
            const radius = diameter / 2;

            circle.style.width = circle.style.height = `${diameter}px`;
            circle.style.left = `${event.clientX - button.getBoundingClientRect().left - radius}px`;
            circle.style.top = `${event.clientY - button.getBoundingClientRect().top - radius}px`;
            circle.classList.add("ripple");

            const ripple = button.getElementsByClassName("ripple")[0];
            if (ripple) {
                ripple.remove();
            }

            button.appendChild(circle);
        }

        const buttons = document.querySelectorAll('.btn');
        buttons.forEach(button => {
            button.addEventListener('click', createRipple);
        });

        // Add ripple styles
        const rippleStyles = `
            .ripple {
                position: absolute;
                border-radius: 50%;
                background: rgba(255, 255, 255, 0.6);
                transform: scale(0);
                animation: ripple-animation 0.6s linear;
                pointer-events: none;
            }
            @keyframes ripple-animation {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        const rippleStyleSheet = document.createElement('style');
        rippleStyleSheet.textContent = rippleStyles;
        document.head.appendChild(rippleStyleSheet);
    });
    </script>
</body>
</html>